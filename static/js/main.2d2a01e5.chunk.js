(this.webpackJsonpviz=this.webpackJsonpviz||[]).push([[0],{12:function(e,i,n){},13:function(e,i,n){},21:function(e,i,n){"use strict";n.r(i);var r=n(1),s=n.n(r),c=n(6),t=n.n(c),a=(n(12),n(2)),l=(n(13),n(4)),o=n.n(l),u=n(7),d=n(5),h=n(0),A=function(e){var i=Object(r.useState)("surface"),n=Object(a.a)(i,2),s=n[0],c=n[1],t=Object(r.useState)(null),l=Object(a.a)(t,2),A=l[0],b=l[1],j=Object(r.useRef)("structureId"),f=Object(r.useState)(null),O=Object(a.a)(f,2),p=O[0],v=O[1];Object(r.useEffect)((function(){var e=d.createViewer(j.current,{backgroundColor:"#282c34"});null!=e?v(e):alert("Failed to initialize viewer")}),[j]),Object(r.useEffect)((function(){return b(e.clicked)}),[e.clicked]),Object(r.useEffect)((function(){null!==p&&null!=A&&(e.clickCallback(e.sequence.residues[A.resi]),p.zoomTo({resi:A.resi},1e3))}),[A]),Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==p){e.next=6;break}return e.next=3,d.download("pdb:1pu0",p,{});case 3:p.setClickable({},!0,(function(e,i,n,r){b(e)})),p.setStyle({},{sphere:{radius:3}}),p.render();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p]);return Object(r.useEffect)((function(){null!==p&&("surface"===s?(p.setStyle({},{sphere:{radius:3}}),p.render()):"ribbon"===s&&(p.setStyle({},{cartoon:{color:"spectrum",arrows:!0}}),p.render()))}),[p,s]),Object(h.jsxs)("div",{style:{borderColor:"white",borderStyle:"solid",borderWidth:3},children:[Object(h.jsxs)("p",{children:["Fel d 1 | pdb: ",e.pdb]}),Object(h.jsx)("div",{id:j.current,style:{width:500,height:400,position:"relative"}}),Object(h.jsxs)("p",{children:[" Clicked index: ",null===A||void 0===A?void 0:A.resi]}),Object(h.jsxs)("p",{children:[" Clicked residue: ",null===A||void 0===A?void 0:A.resn]}),Object(h.jsxs)("p",{children:[" Clicked chain: ",null===A||void 0===A?void 0:A.chain]}),Object(h.jsx)("input",{value:"toggle surface/ribbon",type:"button",onClick:function(){c("surface"===s?"ribbon":"surface")}})]})},b=function(e){var i=Object(r.useState)(null),n=Object(a.a)(i,2),s=n[0],c=n[1],t=Object(r.useState)(!1),l=Object(a.a)(t,2),o=(l[0],l[1],Object(r.useState)("default")),u=Object(a.a)(o,2);u[0],u[1];Object(r.useEffect)((function(){e.clicked&&(c(e.clicked),console.log("in structure, You clicked residue ",e.clicked.resn,"at index",e.clicked.resi))}),[e.clicked]);return Object(h.jsxs)("div",{style:{borderColor:"white",borderStyle:"solid",borderWidth:3},children:[Object(h.jsx)("h3",{children:e.title}),function(i){var n=function(i){return function(){c(i),console.log("You clicked residue",i.resn,"at index",i.resi),e.clickCallback(i)}};return Object(h.jsx)("div",{style:{wordWrap:"break-word",width:600},children:i.residues.map((function(i){var r=(null===s||void 0===s?void 0:s.resi)==i.resi,c=r?"red":"white",t=r?"red":"white",a=function(i){var n=new Set;return e.sequence.variants.forEach((function(e){e.region.indices.includes(i.resi)&&n.add(e.variant_type)})),n}(i);r||(a.has("domestic")&&(t="green"),a.has("exotic")&&(t="blue"),a.has("domestic")&&a.has("exotic")&&(c="green",t="blue"));var l,o=(l=i,e.sequence.conservedRegions.some((function(e){return function(e,i){return i.indices.includes(e.resi)}(l,e)}))?"underline":"");return console.log(c,t,r),Object(h.jsx)("span",{style:{cursor:"pointer",fontFamily:"monospace",fontSize:32,textDecoration:o,background:"-webkit-linear-gradient(".concat(c,", ").concat(t,")"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},onClick:n(i),children:i.resn},i.resi+c)}))})}(e.sequence),Object(h.jsxs)("p",{children:[" Clicked residue: ",null===s||void 0===s?void 0:s.resn]}),Object(h.jsxs)("p",{children:[" Clicked index: ",null===s||void 0===s?void 0:s.resi]})]})},j={residues:[{resn:"M",resi:0,chain:"A"},{resn:"K",resi:1,chain:"A"},{resn:"G",resi:2,chain:"A"},{resn:"A",resi:3,chain:"A"},{resn:"R",resi:4,chain:"A"},{resn:"V",resi:5,chain:"A"},{resn:"L",resi:6,chain:"A"},{resn:"V",resi:7,chain:"A"},{resn:"L",resi:8,chain:"A"},{resn:"L",resi:9,chain:"A"},{resn:"W",resi:10,chain:"A"},{resn:"A",resi:11,chain:"A"},{resn:"A",resi:12,chain:"A"},{resn:"L",resi:13,chain:"A"},{resn:"L",resi:14,chain:"A"},{resn:"L",resi:15,chain:"A"},{resn:"I",resi:16,chain:"A"},{resn:"W",resi:17,chain:"A"},{resn:"G",resi:18,chain:"A"},{resn:"G",resi:19,chain:"A"},{resn:"N",resi:20,chain:"A"},{resn:"C",resi:21,chain:"A"},{resn:"E",resi:22,chain:"A"},{resn:"I",resi:23,chain:"A"},{resn:"C",resi:24,chain:"A"},{resn:"P",resi:25,chain:"A"},{resn:"A",resi:26,chain:"A"},{resn:"V",resi:27,chain:"A"},{resn:"K",resi:28,chain:"A"},{resn:"R",resi:29,chain:"A"},{resn:"D",resi:30,chain:"A"},{resn:"V",resi:31,chain:"A"},{resn:"D",resi:32,chain:"A"},{resn:"L",resi:33,chain:"A"},{resn:"F",resi:34,chain:"A"},{resn:"L",resi:35,chain:"A"},{resn:"T",resi:36,chain:"A"},{resn:"G",resi:37,chain:"A"},{resn:"T",resi:38,chain:"A"},{resn:"P",resi:39,chain:"A"},{resn:"D",resi:40,chain:"A"},{resn:"E",resi:41,chain:"A"},{resn:"Y",resi:42,chain:"A"},{resn:"V",resi:43,chain:"A"},{resn:"E",resi:44,chain:"A"},{resn:"Q",resi:45,chain:"A"},{resn:"V",resi:46,chain:"A"},{resn:"A",resi:47,chain:"A"},{resn:"Q",resi:48,chain:"A"},{resn:"Y",resi:49,chain:"A"},{resn:"K",resi:50,chain:"A"},{resn:"A",resi:51,chain:"A"},{resn:"L",resi:52,chain:"A"},{resn:"P",resi:53,chain:"A"},{resn:"V",resi:54,chain:"A"},{resn:"V",resi:55,chain:"A"},{resn:"L",resi:56,chain:"A"},{resn:"E",resi:57,chain:"A"},{resn:"N",resi:58,chain:"A"},{resn:"A",resi:59,chain:"A"},{resn:"R",resi:60,chain:"A"},{resn:"I",resi:61,chain:"A"}],variants:[{region:{indices:[0,1,2,3],residues:[{resi:0,resn:"TYR",chain:"A"},{resi:1,resn:"TYR",chain:"A"},{resi:2,resn:"TYR",chain:"A"},{resi:3,resn:"TYR",chain:"A"}]},stats:["stats"],variant_type:"domestic"},{region:{indices:[10,11,12,13],residues:[{resi:10,resn:"TYR",chain:"A"},{resi:11,resn:"TYR",chain:"A"},{resi:12,resn:"TYR",chain:"A"},{resi:13,resn:"TYR",chain:"A"}]},stats:["stats"],variant_type:"exotic"}],conservedRegions:[{indices:[7,8,9,10,11,12,13],residues:[{resn:"V",resi:7,chain:"A"},{resn:"L",resi:8,chain:"A"},{resn:"L",resi:9,chain:"A"},{resn:"W",resi:10,chain:"A"},{resn:"A",resi:11,chain:"A"},{resn:"A",resi:12,chain:"A"},{resn:"L",resi:13,chain:"A"}]}]},f=function(){var e=Object(r.useState)(null),i=Object(a.a)(e,2),n=i[0],s=i[1],c=function(e){s(e)};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)(A,{pdb:"1PUO",clickCallback:c,clicked:n,sequence:j}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(b,{title:"Chain 1",sequence:j,clickCallback:c,clicked:n}),Object(h.jsx)(b,{title:"Chain 2",sequence:j,clickCallback:c,clicked:n})]})]})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(i){var n=i.getCLS,r=i.getFID,s=i.getFCP,c=i.getLCP,t=i.getTTFB;n(e),r(e),s(e),c(e),t(e)}))};t.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root")),O()}},[[21,1,2]]]);
//# sourceMappingURL=main.2d2a01e5.chunk.js.map